\documentclass[12pt,a4paper,spanish]{article} 

\usepackage{graphicx} %option specific for pdfLatex compilation
\usepackage{makeidx}
\usepackage{lscape}

\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc} 
\usepackage{indentfirst}
\usepackage[margin=2cm]{geometry}

\author{\textbf{Grupo 2}\\Martín Buchwald\\Ezequiel Genender\\Andrés Lorek\\Luciano Sorrentino\\Jennifer Woites}
\title{75.43 Introducción a los Sistemas Distribuidos\\
	\textbf{Trabajo Práctico Grupal}\\
	Facultad de Ingeniería, Universidad de Buenos Aires
	\date{Cuatrimestre I, 2014}
}

\begin{document}
\maketitle
\thispagestyle{empty}
\newpage
\tableofcontents
\newpage

\section{Subnetting}
\subsection{Asignación de direcciones IP a las redes}
\begin{tabular}{|c|c|c|c|c|c|}
	\hline
	Subnet & Nombre & Hosts & Direcciones & Dirección & Máscara\\
	\hline
	A & Aguila & 125 & 128 & 201.158.15.0 & 255.255.255.128 \\
	\hline
	B & Buitre & 17 & 32 & 20.86.15.0 & 255.255.255.224 \\
	\hline
	C & Cuervo & 12 & 16 & 10.31.25.128 & 255.255.255.240 \\
	\hline
	D & Dodo & 223 & 256 & 20.64.73.0 & 255.255.255.0 \\
	\hline
	E & Espatula & 69 & 128 & 10.31.25.0 & 255.255.255.128 \\
	\hline
	F & Faisan & 19 & 32 & 20.86.15.32 & 255.255.255.224 \\
	\hline
	G & Golondrina & 2 & 4 & 10.31.25.152 & 255.255.255.252 \\
	\hline
	H & Hornero & 2 & 4 & 10.31.25.156 & 255.255.255.252 \\
	\hline
	I & Ibis & 10 PPP & & &\\
	\hline
	I1 &Ibis1 & 2 & 4 & 151.40.3.192 & 255.255.255.252 \\
	\hline
	I2 & Ibis2 & 2 & 4 & 151.40.3.196 & 255.255.255.252 \\ 
	\hline
	I3 & Ibis3 & 2 & 4 & 151.40.3.200 & 255.255.255.252 \\
	\hline
	I4 & Ibis4 & 2 & 4 & 151.40.3.204 & 255.255.255.252 \\
	\hline
	I5 & Ibis5 & 2 & 4 & 151.40.3.208 & 255.255.255.252 \\	
	\hline
	I6 &Ibis6 & 2 & 4 & 151.40.3.212 & 255.255.255.252 \\
	\hline
	I7 & Ibis7& 2 & 4 & 151.40.3.216 & 255.255.255.252 \\
	\hline
	I8 & Ibis8& 2 & 4 & 151.40.3.220 & 255.255.255.252 \\
	\hline
	I9 &Ibis9 & 2 & 4 & 151.40.3.224 & 255.255.255.252 \\
	\hline
	I10 &Ibis10 & 2 & 4 & 151.40.3.228 & 255.255.255.252 \\
	\hline
	J & Jilguero & 43 & 64 & 20.86.15.64 & 255.255.255.192 \\
	\hline
	K & Kiwi & 6 & 8 & 10.31.25.144 & 255.255.255.248 \\
	\hline
	L & Lechuza & 240 & 256 & 20.26.29.0 & 255.255.255.0 \\
	\hline
	M1 & Mero1 & 68 & 128 & 20.86.15.128 & 255.255.255.128 \\
	\hline
	M2 & Mero2 & 18 & 32 & 10.31.25.160 & 255.255.255.224 \\
	\hline
	N privada & Negron & 2 & 4 & 10.31.25.160 & 255.255.255.252 \\
	\hline
	O privada & Ortega & 2 & 4 & 10.31.25.164 & 255.255.255.252 \\
	\hline
	P privada & Paloma & 2 & 4 & 10.31.25.168 & 255.255.255.252 \\
	\hline
	Q1 Publica & Quebrantahuesos1 & 2 & 4 & 150.38.27.0 & 255.255.255.252 \\
	\hline
	Q2 Publica & Quebrantahuesos2 & 2 & 4 & 150.38.27.4 & 255.255.255.252 \\
	\hline
	Q3 Publica & Quebrantahuesos3 & 2 & 4 & 150.38.27.8 & 255.255.255.252 \\
	\hline
\end{tabular}



\subsubsection{Asignación IP a routers, servers, hosts}

\begin{tabular}{|c|c|c|c|c|}
	\hline
	Subred & Dispositivo & Interfaz & Dirección & Máscara\\
	\hline
	\hline
	A &  &  &  & \\
	\hline
	  & WebServer & & 201.158.15.1 & 255.255.255.128 \\
	\hline
	  & Host A & & 201.158.15.2 & 255.255.255.128 \\
	\hline
	  & R4 & e0/0 & 201.158.15.3 & 255.255.255.128 \\
	\hline
	  & R5 & e0/0 & 201.158.15.4 & 255.255.255.128 \\
	\hline
	  & R2 & e0/0 & 201.158.15.5 & 255.255.255.128 \\
	\hline
	  & R3 & e0/2 & 201.158.15.6 & 255.255.255.128 \\
	\hline
	  & Virtual A & & 201.158.15.7 & 255.255.255.128 \\
	\hline
	\hline
	B & & & & \\
	\hline
	  & R1 & e0/0 & 20.86.15.1 & 255.255.255.224 \\
	\hline
	  & R3 & e0/0 & 20.86.15.2 & 255.255.255.224 \\
	\hline
	\hline
	C & & & & \\
	\hline
	  & R1 & e0/1 & 10.31.25.129 & 255.255.255.240 \\
	\hline
  	  & R3 & e0/1 & 10.31.25.130 & 255.255.255.240 \\
	\hline
	\hline
	D & & & & \\
	\hline
	  & R5 & e0/1 & 20.64.73.1 & 255.255.255.0 \\
	\hline
	  & R4 & e0/1 & 20.64.73.2 & 255.255.255.0 \\
	\hline
	  & DNS-ROOT & & 20.64.73.3 & 255.255.255.0 \\
	\hline
	  & R8 & e0/0 & 20.64.73.4 & 255.255.255.0 \\
	\hline
	  & Virtual D & & 20.64.73.5 & 255.255.255.0 \\
	\hline
	\hline
	E & & & & \\
	\hline
	  & FTP-Server & & 10.31.25.1 & 255.255.255.128 \\
	\hline
	  & R12 & e0/0 & 10.31.25.2 & 255.255.255.128 \\
	\hline
	  & DNS1 & & 10.31.25.3 & 255.255.255.128 \\
	\hline
	  & R15 & e0/2 & 10.31.25.4 & 255.255.255.128 \\
	\hline
	  & R13 & e0/1 & 10.31.25.5 & 255.255.255.128 \\
	\hline
	\hline
	F & & & & \\
	\hline
	  & R13 & e0/0 & 20.86.15.33 & 255.255.255.224 \\
	\hline
	  & Host C & & 20.86.15.34 & 255.255.255.224 \\
	\hline
	  & R14 & e0/1 & 20.86.15.35 & 255.255.255.224 \\
	\hline
	\hline
	G & & & & \\
	\hline
	  & R10 & e1/2 & 10.31.25.153 & 255.255.255.252 \\
	\hline
	  & R13 & e0/2 & 10.31.25.154 & 255.255.255.252 \\
	\hline
	\hline
	H & & & & \\
	\hline
	  & R8 & e0/1 & 10.31.25.157 & 255.255.255.252 \\
	\hline
	  & R7 & e1/1 & 10.31.25.158 & 255.255.255.252 \\
	\hline
	\hline
	I1 & & & & \\
	\hline
	  & R2 & s1/0.1 & 151.40.3.193 & 255.255.255.252 \\
	\hline
	  & R17 & s1/0.1 & 151.40.3.194 & 255.255.255.252 \\
	\hline
	\hline
	I2 & & & & \\
	\hline
	  & R2 & s1/0.2 & 151.40.3.197 & 255.255.255.252 \\
	\hline
	  & R16 & s1/0.1 & 151.40.3.198 & 255.255.255.252 \\
	\hline
	\hline
	I3 & & & & \\
	\hline
	  & R2 & s1/0.3 & 151.40.3.201 & 255.255.255.252 \\
	\hline
	  & R9 & s1/0.1 & 151.40.3.202 & 255.255.255.252 \\
	\hline
\end{tabular}
\newpage
\begin{tabular}{|c|c|c|c|c|}
	\hline
	Subred & Dispositivo & Interfaz & Dirección & Máscara\\
	\hline
	\hline
	I4 & & & & \\
	\hline
	  & R2 & s1/0.4 & 151.40.3.205 & 255.255.255.252 \\
	\hline
	  & R6 & s1/0.1 & 151.40.3.206 & 255.255.255.252 \\
	\hline
	\hline
	I5 & & & & \\
	\hline
	  & R17 & s1/0.2 & 151.40.3.209 & 255.255.255.252 \\
	\hline
	  & R16 & s1/0.2 & 151.40.3.210 & 255.255.255.252 \\
	\hline
	\hline
	I6 & & & & \\
	\hline
	  & R17 & s1/0.3 & 151.40.3.213 & 255.255.255.252 \\
	\hline
	  & R9 & s1/0.2 & 151.40.3.214 & 255.255.255.252 \\
	\hline
	\hline
	I7 & & & & \\
	\hline
	  & R17 & s1/0.4 & 151.40.3.217 & 255.255.255.252 \\
	\hline
	  & R6 & s1/0.2 & 151.40.3.218 & 255.255.255.252 \\
	\hline
	\hline
	I8 & & & & \\
	\hline
	  & R16 & s1/0.3 & 151.40.3.221 & 255.255.255.252 \\
	\hline
	  & R9 & s1/0.3 & 151.40.3.222 & 255.255.255.252 \\
	\hline
	\hline
	I9 & & & & \\
	\hline
	  & R16 & s1/0.4 & 151.40.3.225 & 255.255.255.252 \\
	\hline
	  & R6 & s1/0.3 & 151.40.3.226 & 255.255.255.252 \\
	\hline
	\hline
	I10 & & & & \\
	\hline
	  & R9 & s1/0.4 & 151.40.3.229 & 255.255.255.252 \\
	\hline
	  & R6 & s1/0.4 & 151.40.3.230 & 255.255.255.252 \\
	\hline
	\hline
	J & & & & \\
	\hline
	  & R17 & e0/0 & 20.86.15.65 & 255.255.255.192 \\
	\hline
	  & R16 & e0/0 & 20.86.15.66 & 255.255.255.192 \\
	\hline
	  & R14 & e0/0 & 20.86.15.67 & 255.255.255.192 \\
	\hline
	  & R15 & e0/0 & 20.86.15.68 & 255.255.255.192 \\
	\hline
	\hline
	K & & & & \\
	\hline
	  & R15 & e0/1 & 10.31.25.145 & 255.255.255.248 \\
	\hline
	\hline
	L & & & & \\
	\hline
	  & R7 & e1/0 & 20.26.29.1 & 255.255.255.0 \\
	\hline
	  & R6 & e0/0 & 20.26.29.2 & 255.255.255.0 \\
	\hline
	  & R9 & e0/0 & 20.26.29.3 & 255.255.255.0 \\
	\hline
	  & Tel-Server & & 20.26.29.129 & 255.255.255.0 \\
	\hline
	\hline
	M1 & & & & \\
	\hline
	  & Host B & & 20.86.15.129 & 255.255.255.128 \\
	\hline
	  & Tel-Server & & 20.86.15.130 & 255.255.255.128 \\
	\hline
	  & R11 & e0/0 & 20.86.15.132 & 255.255.255.128 \\
	\hline
	  & R10 & e1/1 & 20.86.15.133 & 255.255.255.128 \\
	\hline
	\hline
	M2 & & & & \\
	\hline
	  & R10 & e1/0 & 10.31.25.193 & 255.255.255.224 \\
	\hline
	  & DNS2 & & 10.31.25.194 & 255.255.255.224 \\
	\hline
	\hline
	N & & & & \\
	\hline
	  & R8 & Tunnel10 & 10.31.25.161 & 255.255.255.252 \\
	\hline
	  & R11 & Tunnel10 & 10.31.25.162 & 255.255.255.252 \\
	\hline
\end{tabular}
\newpage
\begin{tabular}{|c|c|c|c|c|}
	\hline
	Subred & Dispositivo & Interfaz & Dirección & Máscara\\
	\hline
	\hline
	O & & & & \\
	\hline
	  & R8 & Tunnel20 & 10.31.25.165 & 255.255.255.252 \\
	\hline
	  & R12 & Tunnel20 & 10.31.25.166 & 255.255.255.252 \\
	\hline
	\hline
	P & & & & \\
	\hline
	  & R12 & Tunnel30 & 10.31.25.169 & 255.255.255.252 \\
	\hline
	  & R11 & Tunnel30 & 10.31.25.170 & 255.255.255.252 \\
	\hline
	Q1 & & & & \\
	\hline
	  & R8 & e0/2 & 150.38.27.1 & 255.255.255.252 \\
	\hline
	  & INTERNET & e1/0 & 150.38.27.2 & 255.255.255.252 \\
	\hline
	Q2 & & & & \\
	\hline
	  & R11 & e0/1 & 150.38.27.5 & 255.255.255.252 \\
	\hline
	  & INTERNET & e1/1 & 150.38.27.6 & 255.255.255.252 \\
	\hline
	Q3 & & & & \\
	\hline
	  & R12 & e0/1 & 150.38.27.9 & 255.255.255.252 \\
	\hline
	  & INTERNET & e1/2 & 150.38.27.10 & 255.255.255.252 \\
	\hline
\end{tabular}

\subsubsection{Asignación IP a routers en Frame Relay}

\begin{tabular}{|c|c|c|c|c|c|}
	\hline
	Subnet & Device & Interface & Address & Mask & DLCI \\
	\hline	
	I1 & R2 & s1/0.1 & 151.40.3.193 & 255.255.255.252 & 217 \\
	\hline
	   & R17 & s1/0.1 & 151.40.3.194 & 255.255.255.252 & 172 \\
	\hline
	I2 & R2 & s1/0.2 & 151.40.3.197 & 255.255.255.252 & 216 \\ 
	\hline
	   & R16 & s1/0.1 & 151.40.3.198 & 255.255.255.252 & 162 \\ 
	\hline
	I3 & R2 & s1/0.3 & 151.40.3.201 & 255.255.255.252 & 209 \\
	\hline
	   & R9 & s2/0.1 & 151.40.3.202 & 255.255.255.252 & 902 \\
	\hline
	I4 & R2 & s1/0.4 & 151.40.3.205 & 255.255.255.252 & 206 \\
	\hline
	   & R6 & s1/0.1 & 151.40.3.206 & 255.255.255.252 & 602 \\
	\hline
	I5 & R17 & s1/0.2  & 151.40.3.209 & 255.255.255.252 & 807 \\	
	\hline
	   & R16 & s1/0.2 & 151.40.3.210 & 255.255.255.252 & 708 \\	
	\hline
	I6 & R17 & s1/0.3 & 151.40.3.213 & 255.255.255.252 & 179 \\
	\hline
	   & R9 & s2/0.2 & 151.40.3.214 & 255.255.255.252 & 917 \\
	\hline
	I7 & R17 & s1/0.4 & 151.40.3.217 & 255.255.255.252 & 176 \\
	\hline
	   & R6 & s1/0.2 & 151.40.3.218 & 255.255.255.252 & 617 \\
	\hline
	I8 & R16 & s1/0.3 & 151.40.3.221 & 255.255.255.252 & 169 \\
	\hline
	   & R9 & s2/0.3 & 151.40.3.222 & 255.255.255.252 & 916 \\
	\hline
	I9 & R16 & s1/0.4 & 151.40.3.225 & 255.255.255.252 & 166 \\
	\hline
	   & R6 & s1/0.3 & 151.40.3.226 & 255.255.255.252 & 616 \\
	\hline
	I10 & R9 & s2/0.4 & 151.40.3.229 & 255.255.255.252 & 906 \\
	\hline
	    & R6 & s1/0.4 & 151.40.3.230 & 255.255.255.252 & 609 \\
	\hline
\end{tabular}

\input{./ruteo_estatico.tex}


\newpage
\section{Frame Relay}
Para el armado de la red Frame Relay se uso un dispositivo \emph{Frame Relay} genérico
con las siguientes configuraciones de DLCI.
\subsection{FR}
\begin{tabular}{|c|c|c|c|}
\hline
Interface In & DLCI In & Interface Out & DLCI Out \\
\hline
\hline
 s0/0 & 217 & Serial0/1 & 172 \\
\hline
 s0/0 & 216 & Serial0/2 & 162 \\
\hline
 s0/0 & 209 & Serial0/3 & 902 \\
\hline
 s0/0 & 206 & Serial0/4 & 602 \\
\hline
 s0/1 & 172 & Serial0/0 & 217 \\
\hline
 s0/1 & 1716 & Serial0/2 & 1617 \\
\hline
 s0/1 & 179 & Serial0/3 & 917 \\
\hline
 s0/1 & 176 & Serial0/4 & 617 \\
\hline
 s0/2 & 162 & Serial0/0 & 216 \\
\hline
 s0/2 & 708 & Serial0/1 & 807 \\
\hline
 s0/2 & 169 & Serial0/3 & 916 \\
\hline
 s0/2 & 166 & Serial0/4 & 616 \\
\hline
 s0/3 & 902 & Serial0/0 & 209 \\
\hline
 s0/3 & 917 & Serial0/1 & 179 \\
\hline
 s0/3 & 916 & Serial0/2 & 169 \\
\hline
 s0/3 & 906 & Serial0/4 & 609 \\
\hline
 s0/4 & 602 & Serial0/0 & 206 \\
\hline
 s0/4 & 617 & Serial0/1 & 176 \\
\hline
 s0/4 & 616 & Serial0/2 & 166 \\
\hline
 s0/4 & 609 & Serial0/3 & 906 \\
\hline

\end{tabular}


\input{./gre.tex}

\input{./vrrp.tex}

\input{./dns.tex}

\input{./openvpn.tex}

\section{Simulación en la Sala}


\section{Scripts de configuración}
Para realizar la simulación de la topología, y poder utilizar los distintos dispositivos físicos, comunicados por las interfaces taps (como ya fue explicado en secciones anteriores), se crearon scripts para automatizar la ejecución de los mismos. A continuación se detallan los distintos tipos de scripts:
\begin{itemize}
	\item \textbf{Servicios.sh}: Permite levantar los servicios de telnet, apache o ftp.
	\item \textbf{pings.sh}: Realiza una secuencia de pings a dispositivos a lo largo de toda la topología. Lo utilizamos para corroborar la
		 correcta conexión entre los dispositivos físicos con el servidor que ejecuta al GNS3, así como asegurar la correcta configuración
		 del ruteo estático.
	\item \textbf{levantarHostA.sh}: Se configura la interfaz tap correspondiente; se configura el ruteo estático para tal host; se copia el 
		archivo \textbf{resol.conf} al directorio local para dejar configurado el DNS de nuestra topología (para el caso del host A, el DNS2).
		Para los Hosts B y C se tienen análogos archivos de configuración (con los parámetros correspondientes).
	\item \textbf{levantarWebserver.sh}: similar al caso anterior, pero en este caso además copia los archivos de configuración necesarios al
		directorio local correspondiente. Tanto para el FTPserver como para el TelServer se cuenta con sus semejantes archivos de 
		configuración.
	\item \textbf{finalizarVPNs.sh}: cierra todas las conexiones taps utilizadas (del 0 al 9) en el dispositivo local.
\end{itemize}

\newpage
\input{./anexos.tex}
\end{document}
